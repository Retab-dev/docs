---
title: 'Preprocess Document'
openapi: 'POST /api/v1/documents/preprocess'
---

<RequestExample>

```python python
import json
from uiform import UiForm
from openai import OpenAI

with open("freight/booking_confirmation_json_schema.json", "r") as f:
    uiform_schema = json.load(f)

model = "gpt-4o-mini"

client = UiForm()
messages, openai_schema = client.documents.preprocess(
    json_schema = uiform_schema,
    document = "freight/booking_confirmation.jpg",
    model=model,
    modality="native"
)

openai_client = OpenAI()
completion = openai_client.chat.completions.create(
    model=model,
    messages=messages,
    response_format={
        "type": "json_schema",
        "json_schema": {
            "name": f"uiform-schema",
            "strict": True,
            "schema": openai_schema  
        },
    }
)
```


```bash curl
curl -X 'POST' \
  'http://localhost:4000/api/v1/documents/preprocess' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "model": "string",
  "json_schema": {},
  "stream": false,
  "seed": null,
  "temperature": 0,
  "modality": "text",
  "document": {
    "id": "string",
    "name": "string",
    "mime_type": "string",
    "content": "string"
  },
  "store_in_db": false
}'
```

</RequestExample>


<ResponseExample>

```json 200
[{'role': 'system',
  'content': '\ninterface RootInterface {\n  thinking?: (string | null);  // Document your analysis of the overall booking confirmation. Include:\n                               // \n                               // 1. Document type identification and confidence\n                               // 2. Key parties involved (client, carrier, etc.)\n                               // 3. Overall structure of the shipments\n                               // 4. Critical booking details and requirements\n                               // 5. Any ambiguities or unclear elements\n                               // \n                               // Example: "Analysis shows:\n                               // - Clear booking confirmation document from ABC Corp\n                               // - Contains 2 distinct shipments under single booking reference\n                               // - Client identified as ABC Corp from letterhead\n                               // - Total value and payment terms clearly stated\n                               // - All required signatures present"\n                               // \n                               // Explain your reasoning for key decisions made in interpreting the document structure.\n                               // User Provided a Default Value: null\n  booking_id?: (string | null);  // Unique identifier for the booking used for billing reference\n                                 // User Provided a Default Value: null\n  payment: {\n    total_price?: (number | null);  // Net price of the booking order (excluding taxes)\n                                    // User Provided a Default Value: null\n    currency?: (string | null);  // Three-letter currency code (ISO 4217).\n                                 // User Provided a Default Value: null\n  };  // Payment data\n  client: {\n    company_name?: (string | null);  // Legal company name for billing\n                                     // User Provided a Default Value: null\n    SIREN?: (string | null);  // SIREN number for billing and tax purposes. Usually located at the top or the very bottom of the document. (small text), and located alongside the other billing informations\n                              // User Provided a Default Value: null\n    VAT_number_thinking?: (string | null);  // The VAT number is present for billing and tax purposes. Usually located at the top or the very bottom of the document, and located alongside the other billing informations (small text).\n                                            // In France the VAT number format is FR {2 digits validation key} {first 9 digits SIREN number} so try use the SIREN number if available to help validate the VAT number.\n                                            // Document your reasoning for the VAT number identification:\n                                            // 1. Look for numbers prefixed with \'FR\' or labeled as \'TVA\', \'VAT\', or \'n° TVA\'\n                                            // 2. Verify the format matches FR followed by key of 2 digits and 9 digits of SIREN number\n                                            // 3. Note where you found it in the document\n                                            // \n                                            // Example: "Found VAT number FR12345678901 in footer next to SIREN number"\n                                            // \n                                            // If multiple possible VAT numbers exist, explain your choice. If none found, state "No VAT number identified in document.\n                                            // User Provided a Default Value: null\n    VAT_number?: (string | null);  // VAT number Value\n                                   // User Provided a Default Value: null\n    city?: (string | null);  // City, district, suburb, town, or village of billing address\n                             // User Provided a Default Value: null\n    postal_code?: (string | null);  // ZIP or postal code of billing address. If french postal code, it should be a pure number, without letters.\n                                    // User Provided a Default Value: null\n    country?: (string | null);  // Two-letter country code (ISO 3166-1 alpha-2).\n                                // User Provided a Default Value: null\n    code?: (string | null);  // Unique code for the client used to connect the booking to the client in the TMS. It is rarely provided. If not provided, set to None\n                             // User Provided a Default Value: null\n    email?: (string | null);  // Client email address\n                              // User Provided a Default Value: null\n  };  // Client data used for billing\n  number_of_shipments?: (number | null);  // Number of shipments in the booking. Most frequently 1, but can be 2,3 to 10-20\n                                          // User Provided a Default Value: null\n  shipments_thinking?: (string | null);  // Document your analysis for each shipment. For each shipment identified in the document, include:\n                                         // \n                                         // 1. A detailed description of the goods being transported, including any reference numbers, dangerous goods information, and packing details.\n                                         // 2. The sender’s information, including the company name, address, contact details, and any relevant observations about the pickup process.\n                                         // 3. The recipient’s information, including the company name, address, contact details, and any relevant observations about the delivery process.\n                                         // 4. Any trucking constraints, including vehicle requirements, loading/unloading equipment, and specific transport conditions.\n                                         // \n                                         // Example:\n                                         // "Shipment Analysis:\n                                         // 1: SSP BOC - 4 EUR pallets, 10ML, 7,623 kg  (UN 3082, liquid, 9, GE III)\n                                         // 2: AMC(31) BOS 2249 - 8 pallets, 7ML, 3,240 kg\n                                         // 3: VETISOL BOS 2195 - 10 pallets, 9ML, 3,780 kg\n                                         // 4: VETISOL BOS 2282 - 6 pallets, 5ML, 2,020 kg (UN 3077, solid, 9, GE III)\n                                         // 5: SOERMEL BOS 2264 - 2 pallets, 8ML, 1,300 kg (UN 3077, solid, 9, GE III)\n                                         // 6: DUMOULIN BOS 2281 - 15 pallets, 11ML, 10,400 kg\n                                         // 7: SOLUSTIL BOS 1764 - 20 pallets, 12ML, 24,800 kg Refrigerated vehicle (-20°C)\n                                         // 8: TECMA TAR 323 - 1 pallet, 2ML, 1,475 kg\n                                         // 9: PAILLET BOS 2290 - 8 pallets, 10ML, 4,945 kg\n                                         // \n                                         // Ensure that each shipment is clearly detailed with all relevant information. Do not omit any critical details.\n                                         // Most frequently, there is going to be one or two shipments in the document, but sometimes you can have a massive number of shipments on several lines, more like a table containing a long list of shipments.\n                                         // In this case, you should create a shipment for each line of the table, it can go to 10-20 shipments sometimes.\n                                         // \n                                         // User Provided a Default Value: null\n  shipments: Array<{\n      thinking?: (string | null);  // Document your analysis of the shipment information. Include:\n                                   // \n                                   // 1. How you identified this as a distinct shipment\n                                   // 2. Key reference numbers and their sources\n                                   // 3. Relationships between pickup and delivery points\n                                   // 4. Any special routing or timing requirements\n                                   // 5. Document references (CMR, waybills, etc.)\n                                   // \n                                   // Example: "Source shows:\n                                   // - Single shipment identified by CMR #12345\n                                   // - Pickup from warehouse A to delivery point B\n                                   // - Must deliver within 24h window\n                                   // - References found: Order #789, Customer PO #456"\n                                   // \n                                   // Document your reasoning process and any key decisions made in interpreting the shipment structure.\n                                   // User Provided a Default Value: null\n      shipment_id?: (string | null);  // Unique identifier for the shipment, most often the CMR number or CMR reference, used for tracking and documenting transport details. Can also be client / sender reference number. If several numbers are provided and the situation is ambiguous, pick the most logical one, and put other numbers in the observation field.\n                                      // User Provided a Default Value: null\n      sender?: {\n        company_name?: (string | null);  // Name of the company.\n                                         // User Provided a Default Value: null\n        address?: {\n          city?: (string | null);  // City, district, suburb, town, or village.\n                                   // User Provided a Default Value: null\n          postal_code?: (string | null);  // ZIP or postal code. If french postal code, it should be a pure number, without letters.\n                                          // User Provided a Default Value: null\n          country?: (string | null);  // Two-letter country code (ISO 3166-1 alpha-2).\n                                      // User Provided a Default Value: null\n          line1?: (string | null);  // Address line 1 (e.g., street, PO Box, or company name).\n                                    // User Provided a Default Value: null\n          line2?: (string | null);  // Address line 2 (e.g., apartment, suite, unit, or building).\n                                    // User Provided a Default Value: null\n        };  // Address of the sender.\n        phone_number?: (string | null);  // Phone number of the sender.\n                                         // User Provided a Default Value: null\n        email_address?: (string | null);  // Email address of the sender.\n                                          // User Provided a Default Value: null\n        pickup_datetime?: {\n          date?: (string | null);  // Date of the pickup. ISO 8601 Date Format: YYYY-MM-DD\n                                   // User Provided a Default Value: null\n          start_time?: (string | null);  // Start time of the pickup. ISO 8601 Time Format: hh:mm\n                                         // User Provided a Default Value: null\n          end_time?: (string | null);  // End time of the pickup. ISO 8601 Time Format: hh:mm. Must be greater than or equal to the start_time.\n                                       // User Provided a Default Value: null\n        };  // pickup date and time.\n        observations?: (string | null);  // Include all relevant information for pickup and sender details. This includes:\n                                         // \t•\tReference numbers (e.g., order or booking refs)\n                                         // \t•\tContact details (e.g., names, roles, extensions)\n                                         // \t•\tDock/door numbers, access codes, and navigation instructions\n                                         // \t•\tRequired documentation and special equipment needs\n                                         // \t•\tLoading bay specs, timing preferences, and site access instructions\n                                         // \t•\tParking info, specific entrance locations, and any additional sender notes\n                                         // When you write observations, write them in the same language as the email and the documents. If they are in French, write them in French, if they are in English, write them in English.\n                                         // User Provided a Default Value: null\n      };  // Sender data\n      recipient?: {\n        company_name?: (string | null);  // Name of the company.\n                                         // User Provided a Default Value: null\n        address?: {\n          city?: (string | null);  // City, district, suburb, town, or village.\n                                   // User Provided a Default Value: null\n          postal_code?: (string | null);  // ZIP or postal code. If french postal code, it should be a pure number, without letters.\n                                          // User Provided a Default Value: null\n          country?: (string | null);  // Two-letter country code (ISO 3166-1 alpha-2).\n                                      // User Provided a Default Value: null\n          line1?: (string | null);  // Address line 1 (e.g., street, PO Box, or company name).\n                                    // User Provided a Default Value: null\n          line2?: (string | null);  // Address line 2 (e.g., apartment, suite, unit, or building).\n                                    // User Provided a Default Value: null\n        };  // Address of the recipient.\n        phone_number?: (string | null);  // Phone number of the recipient.\n                                         // User Provided a Default Value: null\n        email_address?: (string | null);  // Email address of the recipient.\n                                          // User Provided a Default Value: null\n        delivery_datetime?: {\n          date?: (string | null);  // Date of the delivery. ISO 8601 Date Format: YYYY-MM-DD\n                                   // User Provided a Default Value: null\n          start_time?: (string | null);  // Start time of the delivery. ISO 8601 Time Format: hh:mm\n                                         // User Provided a Default Value: null\n          end_time?: (string | null);  // End time of the delivery. ISO 8601 Time Format: hh:mm. Must be greater than or equal to the start_time.\n                                       // User Provided a Default Value: null\n        };  // delivery date and time. Must be after the pickup date and time.\n        observations?: (string | null);  // Include all relevant delivery information. This includes:\n                                         // \t•\tReference numbers (e.g., delivery refs, order numbers)\n                                         // \t•\tContact details (e.g., names, roles, extensions)\n                                         // \t•\tDock/door numbers, access codes, and specific entrance instructions\n                                         // \t•\tRequired documentation and any special equipment needs\n                                         // \t•\tUnloading bay specs, timing preferences, and site access instructions\n                                         // \t•\tParking info, unloading procedures, safety protocols, and any additional notes near recipient info\n                                         // When you write observations, write them in the same language as the email and the documents. If they are in French, write them in French, if they are in English, write them in English.\n                                         // User Provided a Default Value: null\n      };  // Recipient data\n      goods?: {\n        thinking?: (string | null);  // Document your analysis of the goods information from the source document. Include:\n                                     // \n                                     // 1. Description of what\'s being transported\n                                     // 2. Any reference numbers or codes found\n                                     // 3. Special handling requirements\n                                     // 4. Equipment needs\n                                     // 5. Safety considerations\n                                     // 6. Documentation requirements\n                                     // 7. The presence of returnable Euro pallets (it has to be explicitly stated that the pallets are EU pallets in the source document in the sender section (not in the legal mentions))\n                                     // \n                                     // Example: "Source indicates: \n                                     // - 12 pallets of automotive parts\n                                     // - Reference: ORDER123, BATCH456\n                                     // - Requires forklift for unloading\n                                     // - Non-stackable items\n                                     // - Fragile goods warning labels needed"\n                                     // - Weight is in displayed in tons - A conversion to kg is needed\n                                     // \n                                     // List all relevant details found in the source document. Do not make assumptions about information that isn\'t explicitly stated.\n                                     // User Provided a Default Value: null\n        packing?: {\n          units?: (number | null);  // Number of units\n                                    // User Provided a Default Value: null\n          packing_type?: ("pallet" | "bulk" | "container" | "other" | null);  // Type of packing - make sure you don\'t say it\'s a pallet (e.g. it says PAL) if you are not sure\n                                                                              // User Provided a Default Value: null\n          supplementary_parcels?: (number | null);  // Number of additional parcels\n                                                    // User Provided a Default Value: null\n          pallets_on_ground_thinking?: (string | null);  // This field calculates the equivalent floor area occupied by packing units, expressed in terms of standard EUR pallets (1.2m × 0.8m). Follow these steps for each pallet, then sum the results to get the total floor pallet equivalent:\n                                                         // \n                                                         // \t1.\tFor each pallet: (length × width) / (1.2 × 0.8).\n                                                         // \t2.\tSum the calculations to get the total floor pallet equivalent area.\n                                                         // \n                                                         // Example Calculations:\n                                                         // \n                                                         // Example 1: 6 EUR Pallets (Standard Size)\n                                                         // \n                                                         // If all 6 pallets are standard EUR pallets:\n                                                         // \n                                                         // \t•\tEach pallet occupies: (1.2 × 0.8) / (1.2 × 0.8) = 1 pallet equivalent.\n                                                         // \t•\tTotal for 6 pallets: 1 + 1 + 1 + 1 + 1 + 1 = 6.\n                                                         // \n                                                         // So, floor pallet equivalent = 6.\n                                                         // \n                                                         // Example 2: Two Custom Pallets\n                                                         // \n                                                         // \t•\tPallet 1: 1.5m × 0.9m, so 1.5 × 0.9 / (1.2 × 0.8) ≈ 1.41.\n                                                         // \t•\tPallet 2: 1.0m × 1.1m, so 1.0 × 1.1 / (1.2 × 0.8) ≈ 1.15.\n                                                         // \n                                                         // Total floor pallet equivalent = 1.41 + 1.15 = 2.56.\n                                                         // \n                                                         // For each pallet, write down the formula, insert values, and compute explicitly.\n                                                         // Take your time to think rigourously. Do not hesitate to write down intermediate steps.\n                                                         // User Provided a Default Value: null\n          pallets_on_ground?: (number | null);  // pallets on ground value\n                                                // User Provided a Default Value: null\n          number_eur_pallet?: (number | null);  // Number of pallets that follow the European standard, i.e. marked as something like EUR or EPAL. If not explicitly mentioned, set to 0.\n                                                // User Provided a Default Value: null\n          observation?: (string | null);  // Information about goods, packing, and handling requirements. This includes:\n                                          // \t•\tReference numbers (e.g., product codes, serial numbers)\n                                          // \t•\tHandling instructions, stacking limits, and loading specs (e.g., side/rear-loading)\n                                          // \t•\tVehicle, equipment, or packaging needs\n                                          // \t•\tSpecial care (e.g., temperature control, fragility, safety warnings)\n                                          // \t•\tLabels, placards, seal/container numbers, or other markings\n                                          // When you write observations, write them in the same language as the email.\n                                          // User Provided a Default Value: null\n        };  // Packing details of the good\n        dimensions?: {\n          loading_meters_thinking?: (string | null);  // A loading meter (LM) is a measurement of the cargo space occupied in a truck, calculated based on the item’s footprint relative to the truck’s standard internal width of 2.4 meters. This measurement helps determine how much linear floor space is needed to transport the goods efficiently.\n                                                      // \n                                                      // If loading meters are provided in the source (often labeled as Mètre linéaire (ML) or Mètre plancher (MPL)), use that value directly, noting it as “Using provided value of X loading meters.”\n                                                      // \n                                                      // If not, calculate as follows:\n                                                      // \n                                                      // \t1.\tFor each item: (length × width) / 2.4.\n                                                      // \t2.\tSum all calculated loading meters.\n                                                      // \n                                                      // For example:\n                                                      // \n                                                      // \t•\tItem 1 is 3m × 1.2m, so it takes (3 × 1.2) / 2.4 = 1.5 loading meters.\n                                                      // \t•\tItem 2 is 2m × 1.6m, so it takes (2 × 1.6) / 2.4 = 1.33 loading meters.\n                                                      // \n                                                      // Total loading meters: 1.5 + 1.33 = 2.83 meters\n                                                      // \n                                                      // For each item, write down the formula, insert values, and compute explicitly.\n                                                      // Take your time to think rigourously. Do not hesitate to write down intermediate steps. WARNING: VOLUME WILL NOT BE IN ml, this is the unit used for loading meters - ml stands for metres lineaires.\n                                                      // User Provided a Default Value: null\n          loading_meters?: (number | null);  // Loading meters value\n                                             // User Provided a Default Value: null\n          volume_thinking?: (string | null);  // Volume represents the total space occupied by an item in cubic meters, calculated as (length × width × height).\n                                              // \n                                              // If volume is provided in the source, use that value directly and note it as, “Using provided value of X cubic meters.”\n                                              // \n                                              // If not, calculate as follows:\n                                              // \n                                              // \t1.\tFor each item: length × width × height.\n                                              // \t2.\tSum the volumes of all items for the total volume.\n                                              // \n                                              // Example:\n                                              // \n                                              // \t•\tItem 1: 2m × 1m × 1.5m = 3 cubic meters\n                                              // \t•\tItem 2: 1.5m × 1m × 1m = 1.5 cubic meters\n                                              // \n                                              // Total volume: 3 + 1.5 = 4.5 cubic meters\n                                              // \n                                              // For each item, write down the formula, insert values, and compute explicitly. Take your time to ensure accuracy, and write intermediate steps if necessary.\n                                              // User Provided a Default Value: null\n          volume?: (number | null);  // Volume value in cubic meters\n                                     // User Provided a Default Value: null\n        };  // Dimensions of the good\n        weight?: (number | null);  // Weight of the good (in kilograms)\n                                   // User Provided a Default Value: null\n        temperature_infos?: ({\n          min_temperature?: (number | null);  // Minimum temperature (in Celsius)\n          max_temperature?: (number | null);  // Maximum temperature (in Celsius)\n          category?: ("Dry" | "Fresh" | "Frozen" | null);  // Temperature control requirements\n        } | null);  // Temperature infos of the good\n                    // User Provided a Default Value: {"min_temperature": null, "max_temperature": null, "category": null}\n        dangerous_goods_infos?: Array<{\n            thinking?: (string | null);  // Document your analysis of the goods information from the source document. Include:\n                                         // \n                                         // 1. Description of what\'s being transported\n                                         // 2. Any reference numbers or codes found\n                                         // 3. Special handling requirements\n                                         // 4. Equipment needs\n                                         // 5. Safety considerations\n                                         // 6. Documentation requirements\n                                         // 7. The presence of returnable Euro pallets (it has to be explicitly stated that the pallets are EU pallets in the source document in the sender section (not in the legal mentions))\n                                         // \n                                         // *Some observations you may consider about the weight:*\n                                         // - Sometimes the weight appears in tons, or kilograms. If the unit is not specified, assume it is in kilograms. However, the weight may appear like "12T400" which means 12.4 tons.\n                                         // - Some weight examples: "1500" -> 1500 kg, "1T500" -> 1.500 tons -> 1500 kg, "7T565" -> 7.565 tons -> 7565 kg, "12 tons" -> 12000 kg, "14 tonnes" -> 14000 kg\n                                         // \n                                         // *Example of thinking output:*\n                                         // ```\n                                         // Source indicates: \n                                         // - 12 pallets of automotive parts\n                                         // - Reference: ORDER123, BATCH456\n                                         // - Requires forklift for unloading\n                                         // - Non-stackable items\n                                         // - Fragile goods warning labels needed"\n                                         // - Weight is in displayed in tons - its value is 5.4 tons, which is equivalent to 5400 kg.\n                                         // ```\n                                         // List all relevant details found in the source document. Do not make assumptions about information that isn\'t explicitly stated.\n                                         // User Provided a Default Value: null\n            weight?: (number | null);  // Weight of the dangerous good (in kilograms)\n                                       // User Provided a Default Value: null\n            UN_code?: (number | null);  // UN code of the dangerous good\n                                        // User Provided a Default Value: null\n            UN_label?: (string | null);  // UN label of the dangerous good\n                                         // User Provided a Default Value: null\n            UN_class?: (string | null);  // UN class of the dangerous good\n                                         // User Provided a Default Value: null\n            UN_packing_group?: ("I" | "II" | "III" | null);  // UN packing group of the dangerous good\n                                                             // User Provided a Default Value: null\n            ADR_tunnel_code?: ("B" | "B1000C" | "B/D" | "B/E" | "C" | "C5000D" | "C/D" | "C/E" | "D" | "D/E" | "E" | "-" | null);  // ADR tunnel code of the dangerous good\n                                                                                                                                   // User Provided a Default Value: null\n          }>;  // Dangerous goods infos of the good\n               // User Provided a Default Value: []\n      };  // Description of transported goods\n      transport_constraints?: {\n        thinking?: (string | null);  // Document the specific facts from the source that determine vehicle requirements. For example:\n                                     // - List any explicitly mentioned vehicle specifications\n                                     // - Note any temperature requirements stated\n                                     // - Record loading/unloading equipment mentioned\n                                     // - Include any access restrictions specified\n                                     // \n                                     // Example: \'Source specifies: refrigerated transport required, -20°C, loading dock not available, tail lift needed.\'\n                                     // \n                                     // Only include information that is explicitly stated in the source document. Do not make assumptions about requirements that aren\'t clearly specified.\n                                     // User Provided a Default Value: null\n        vehicle_type?: ("Tractor" | "Carrier" | "Light Vehicle" | null);  // Primary vehicle classification:\n                                                                          // - \'Tractor\': for semi-trailer trucks (Tracteur)\n                                                                          // - \'Carrier\': for rigid trucks (Porteur) \n                                                                          // - \'Light Vehicle\': for vans and smaller commercial vehicles (Véhicule léger)\n                                                                          // User Provided a Default Value: null\n        body_type?: ("Tautliner" | "Dry Van" | "Refrigerated" | "Flatbed" | "Tanker" | null);  // Type of cargo body/trailer:\n                                                                                               // - \'Tautliner\': curtainside trailer (Tautliner/Transpalette)\n                                                                                               // - \'Dry Van\': box trailer (Fourgon)\n                                                                                               // - \'Refrigerated\': temperature-controlled (Réfrigéré)\n                                                                                               // - \'Flatbed\': open platform (Plateau)\n                                                                                               // - \'Tanker\': liquid cargo (Citerne)\n                                                                                               // User Provided a Default Value: null\n        tail_lift?: (boolean | null);  // Indicates if the vehicle is equipped with a hydraulic tail lift for ground-level loading/unloading without dock access (Hayon élévateur)\n                                       // User Provided a Default Value: null\n        crane?: (boolean | null);  // Indicates if the vehicle is equipped with a loading crane/HIAB for self-loading and unloading of heavy cargo (Grue)\n                                   // User Provided a Default Value: null\n      };  // List of transport constraints informations\n    }>;  // List of shipment data. The number of entries should correspond to the total loading/delivery point combinations identified in the document.\n}'},
 {'role': 'user',
  'content': 'Below are documents for processing. Your task is to extract and structure the data according to the JSON schema previously provided.  \n\nFollow these guidelines strictly:  \n1. **Extract Only Explicit Information:** Only include information that is clearly and explicitly stated in the documents. Do not infer, assume, or speculate about any missing or ambiguous details.  \n2. **Adhere to the JSON Schema:** Ensure the extracted data strictly conforms to the structure, types, and requirements defined in the schema. Any deviation from the schema is unacceptable.  \n3. **Handle Missing or Ambiguous Data:** If a required field in the schema cannot be populated because the information is absent or unclear, simply omit the field from the output without attempting to guess or provide alternative values.  \n4. **Maintain Factual Accuracy:** All output must be directly traceable to the content of the documents. Do not introduce additional information, interpretations, or commentary beyond what is explicitly provided.  \n\nYour role is to deliver precise, schema-compliant data that reflects only what is present in the provided documents.'},
 {'role': 'user',
  'content': [{'type': 'text',
    'text': "/, ACME\n\n4% Corporation”\n\nConfirmation d'affrétement\nACME CORPORATION\n\nVAT Number: GB123456789\n\n11/8/2024, 11:41:43 AM\n\naA\n\nDétails de la société Site de: Adresse de facturation:\nContact: Jane Doe 456 Oak Avenue 123 Elm Street\nAcme Corporation Floor 3 Suite 500\nTel: +44 20 7946 0958 Manchester London\nEmail: client@acme.com M1 4WP. WC2N S5DU GB\nUnited Kingdom Tel: +44 20 7946 0958\n\nEmail: client@acme.com\nVAT Number: GB123456789\n\nRéférence a rappeler sur votre\nfacture\n\nN°OT : SHIP-001\n\nRéf.Client : BC-67890\n\nN° Cde : SHIP-001\n\nTransporteur :\n\nTRANSPORT EXPRESS.\nAl'attention du Service Logistique\nZone Industrielle Est, Batiment C\n45 rue des Transporteurs\n\n75001 PARIS\n\nFRANCE\n\nTél : 0123 45 67 89\n\nFax : 0123 45 67 90\n\nTva : FR12 345 678 901\n\nLe transporteur s'engage :\n\ne a-souscrire une assurance spécifique aux marchandises\nsensibles.\n\n* arespecter les clauses vol de ses polices d'assurance\nmarchandises transportées.\n\n¢ a vérifier que les marchandises soient bien accompagnées des\ndocuments et notamment des documents de douane\ncorrespondants.\n\n¢ adéclarer les incidents et notamment contacter immédiatement\nnotre bureau d'affrétement et le bureau de douanes le plus\nproche en cas de vol attesté.\n\n¢ a mettre en oeuvre les moyens de prévention visant a la\nsécurisation de la marchandise dont le stationnement dans des\nendroits clos et gardiennés.\n\n \n\nNature des marchandises: Prise en charge le Livraison le\nPoids: 500 T Pallets: 5 Unités: 10 Volume: 1.44 M3 5/2/2023 5/3/2023\nMetres de chargement: 0.4 ML De 08:00 a 12:00 De 10:00 a 16:00\nTempérature: 5°C - 25°C (Frais) Acme Corporation Beta Industries\nMarchandises dangereuses: UN1202 Classe 3 - Liquide 123 Elm Street 789 Pine Street\ninflammable Suite 500 Munich, Bavaria\nLondon, Greater London 80331 DE\nWC2N SDU GB +49 89 123456\n\n \n\n \n\n \n\nPrix convenu: 1500 EUR HT PRIX NEGOCIE GASOIL INCLUS Référence a rappeler sur votre facture :\n\nBC-67890\n\nConditions de transport et de reglement :\n\nAfin de permettre un reglement conforme aux dispositions, il est rappelé au transporteur affrété que la facture ne sera admise pour paiement que sous\nla condition stricte de reception des documents légaux requis pour justifier de la réalisation de la prestation de transport et notamment : I'original de la\nlettre de voiture accompagné du bon de livraison original régularisé et la preuve de l'échange des palettes consignées. II est a noter que le prix\nconvenu a fait l'objet d'une négociation entre les parties et qu'il integre notamment les charges de carburant sur la base de l'indice CNR du mois en\ncours a la date de réalisation du transport. Pour les flux belges, le prix convenu comprend la taxe kilométrique. Le transporteur affréteur s'oblige a\nexécuter l'ordre de transport confié par ses propres moyens. Il s'interdit de le sous-traiter a des tiers. Le non respect de cette clause entraine la\nrésolution immédiate et de plein droit du contrat de transport. Il reconnait également que le forfait ci-dessus permet de couvrir l'ensemble des charges\ndéfinies a l'article L3221-1 du Code des Transports. En conséquence, il déclare étre a jour de son obligation de déclaration, du paiement des charges\nsociales (URSSAF) et du respect de la lutte contre le travail illégal. Il s'engage a respecter les obligations sur le détachement transnational de salariés,\naussi il doit étre a jour de |'établissement de I'attestation de détachement des salariés ainsi que de la nomination d'un représentant en France. Nous\nvous rappelons la législation frangaise concernant le cabotage routier de marchandises qui fait l'objet des articles L.3421-3 et suivants du Code des\nTransports modifiés par le décret n° 2016-418 du 7 avril 2016, tout transport doit donc étre effectué dans le respect de la loi. Nous vous remercions de\nnous tenir immédiatement informés de tout incident rencontré dans |'exécution de ce transport.\n\n \n\nSile transport de marchandises s'effectue sur Retour impératif par fax avec la mention Bon\ndes palettes Europe, celles-ci doivent étre pour accord, votre cachet commercial, vos\néchangées au chargement ou restituées sous noms et signature. A défaut de retour, le\n\n8 jours. Dans le cas contraire, elles vous seront contrat de transport sera réputé exécuté selon\nfacturées au prix de 28 € ht/Palette (14 €htde —_les modalités précitées.Tous les bons de\n\nfrais de dossier non remboursable en cas livraisons devront étre retournés sous 8 jours.\nd'avoir).\n\n \n\n \n\n \n\x0c"},
   {'type': 'text',
    'text': "### I tried to extract all possible text from the document, it might help you to infer values: \n/, ACME\n\n4% Corporation”\n\nConfirmation d'affrétement\nACME CORPORATION\n\nVAT Number: GB123456789\n\n11/8/2024, 11:41:43 AM\n\naA\n\nDétails de la société Site de: Adresse de facturation:\nContact: Jane Doe 456 Oak Avenue 123 Elm Street\nAcme Corporation Floor 3 Suite 500\nTel: +44 20 7946 0958 Manchester London\nEmail: client@acme.com M1 4WP. WC2N S5DU GB\nUnited Kingdom Tel: +44 20 7946 0958\n\nEmail: client@acme.com\nVAT Number: GB123456789\n\nRéférence a rappeler sur votre\nfacture\n\nN°OT : SHIP-001\n\nRéf.Client : BC-67890\n\nN° Cde : SHIP-001\n\nTransporteur :\n\nTRANSPORT EXPRESS.\nAl'attention du Service Logistique\nZone Industrielle Est, Batiment C\n45 rue des Transporteurs\n\n75001 PARIS\n\nFRANCE\n\nTél : 0123 45 67 89\n\nFax : 0123 45 67 90\n\nTva : FR12 345 678 901\n\nLe transporteur s'engage :\n\ne a-souscrire une assurance spécifique aux marchandises\nsensibles.\n\n* arespecter les clauses vol de ses polices d'assurance\nmarchandises transportées.\n\n¢ a vérifier que les marchandises soient bien accompagnées des\ndocuments et notamment des documents de douane\ncorrespondants.\n\n¢ adéclarer les incidents et notamment contacter immédiatement\nnotre bureau d'affrétement et le bureau de douanes le plus\nproche en cas de vol attesté.\n\n¢ a mettre en oeuvre les moyens de prévention visant a la\nsécurisation de la marchandise dont le stationnement dans des\nendroits clos et gardiennés.\n\n \n\nNature des marchandises: Prise en charge le Livraison le\nPoids: 500 T Pallets: 5 Unités: 10 Volume: 1.44 M3 5/2/2023 5/3/2023\nMetres de chargement: 0.4 ML De 08:00 a 12:00 De 10:00 a 16:00\nTempérature: 5°C - 25°C (Frais) Acme Corporation Beta Industries\nMarchandises dangereuses: UN1202 Classe 3 - Liquide 123 Elm Street 789 Pine Street\ninflammable Suite 500 Munich, Bavaria\nLondon, Greater London 80331 DE\nWC2N SDU GB +49 89 123456\n\n \n\n \n\n \n\nPrix convenu: 1500 EUR HT PRIX NEGOCIE GASOIL INCLUS Référence a rappeler sur votre facture :\n\nBC-67890\n\nConditions de transport et de reglement :\n\nAfin de permettre un reglement conforme aux dispositions, il est rappelé au transporteur affrété que la facture ne sera admise pour paiement que sous\nla condition stricte de reception des documents légaux requis pour justifier de la réalisation de la prestation de transport et notamment : I'original de la\nlettre de voiture accompagné du bon de livraison original régularisé et la preuve de l'échange des palettes consignées. II est a noter que le prix\nconvenu a fait l'objet d'une négociation entre les parties et qu'il integre notamment les charges de carburant sur la base de l'indice CNR du mois en\ncours a la date de réalisation du transport. Pour les flux belges, le prix convenu comprend la taxe kilométrique. Le transporteur affréteur s'oblige a\nexécuter l'ordre de transport confié par ses propres moyens. Il s'interdit de le sous-traiter a des tiers. Le non respect de cette clause entraine la\nrésolution immédiate et de plein droit du contrat de transport. Il reconnait également que le forfait ci-dessus permet de couvrir l'ensemble des charges\ndéfinies a l'article L3221-1 du Code des Transports. En conséquence, il déclare étre a jour de son obligation de déclaration, du paiement des charges\nsociales (URSSAF) et du respect de la lutte contre le travail illégal. Il s'engage a respecter les obligations sur le détachement transnational de salariés,\naussi il doit étre a jour de |'établissement de I'attestation de détachement des salariés ainsi que de la nomination d'un représentant en France. Nous\nvous rappelons la législation frangaise concernant le cabotage routier de marchandises qui fait l'objet des articles L.3421-3 et suivants du Code des\nTransports modifiés par le décret n° 2016-418 du 7 avril 2016, tout transport doit donc étre effectué dans le respect de la loi. Nous vous remercions de\nnous tenir immédiatement informés de tout incident rencontré dans |'exécution de ce transport.\n\n \n\nSile transport de marchandises s'effectue sur Retour impératif par fax avec la mention Bon\ndes palettes Europe, celles-ci doivent étre pour accord, votre cachet commercial, vos\néchangées au chargement ou restituées sous noms et signature. A défaut de retour, le\n\n8 jours. Dans le cas contraire, elles vous seront contrat de transport sera réputé exécuté selon\nfacturées au prix de 28 € ht/Palette (14 €htde —_les modalités précitées.Tous les bons de\n\nfrais de dossier non remboursable en cas livraisons devront étre retournés sous 8 jours.\nd'avoir).\n\n \n\n \n\n \n\x0c"}]}]
```

```json 422
{
  "detail": [
    {
      "loc": [
        "<string>"
      ],
      "msg": "<string>",
      "type": "<string>"
    }
  ]
}
```


</ResponseExample>

